{"ast":null,"code":"import { API_URL } from \"../config\";\nexport const bannerService = {\n  getAllBanners: async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await fetch(`${API_URL}/api/banner`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch banners\");\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error fetching banners:\", error);\n      throw error;\n    }\n  },\n  getBannerById: async id => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await fetch(`${API_URL}/api/banner/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch banner\");\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(`Error fetching banner ${id}:`, error);\n      throw error;\n    }\n  },\n  getActiveBanner: async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/banner/active`);\n      if (!response.ok) {\n        if (response.status === 404) {\n          return null; // No active banner\n        }\n        throw new Error(\"Failed to fetch active banner\");\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error fetching active banner:\", error);\n      throw error;\n    }\n  },\n  createBanner: async bannerData => {\n    try {\n      const token = localStorage.getItem(\"token\");\n\n      // Ensure dates are in ISO format\n      const formattedData = {\n        ...bannerData,\n        startDate: new Date(bannerData.startDate).toISOString(),\n        endDate: new Date(bannerData.endDate).toISOString()\n      };\n      console.log(\"Creating banner with data:\", formattedData);\n      const response = await fetch(`${API_URL}/api/banner`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(formattedData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        const errorMessage = errorData.message || `Failed to create banner: ${response.status} ${response.statusText}`;\n        console.error(\"Banner creation error:\", errorMessage);\n        throw new Error(errorMessage);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error creating banner:\", error);\n      throw error;\n    }\n  },\n  updateBanner: async (id, bannerData) => {\n    try {\n      const token = localStorage.getItem(\"token\");\n\n      // Ensure dates are in ISO format\n      const formattedData = {\n        ...bannerData,\n        startDate: new Date(bannerData.startDate).toISOString(),\n        endDate: new Date(bannerData.endDate).toISOString()\n      };\n      const response = await fetch(`${API_URL}/api/banner/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(formattedData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        const errorMessage = errorData.message || \"Failed to update banner\";\n        throw new Error(errorMessage);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(`Error updating banner ${id}:`, error);\n      throw error;\n    }\n  },\n  deleteBanner: async id => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await fetch(`${API_URL}/api/banner/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to delete banner\");\n      }\n      return true;\n    } catch (error) {\n      console.error(`Error deleting banner ${id}:`, error);\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["API_URL","bannerService","getAllBanners","token","localStorage","getItem","response","fetch","headers","Authorization","ok","Error","json","error","console","getBannerById","id","getActiveBanner","status","createBanner","bannerData","formattedData","startDate","Date","toISOString","endDate","log","method","body","JSON","stringify","errorData","catch","errorMessage","message","statusText","updateBanner","deleteBanner"],"sources":["C:/Users/nikku/Desktop/GROUP_COURSEWORK/frontend/src/services/bannerService.js"],"sourcesContent":["import { API_URL } from \"../config\"\n\nexport const bannerService = {\n  getAllBanners: async () => {\n    try {\n      const token = localStorage.getItem(\"token\")\n      const response = await fetch(`${API_URL}/api/banner`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch banners\")\n      }\n\n      return await response.json()\n    } catch (error) {\n      console.error(\"Error fetching banners:\", error)\n      throw error\n    }\n  },\n\n  getBannerById: async (id) => {\n    try {\n      const token = localStorage.getItem(\"token\")\n      const response = await fetch(`${API_URL}/api/banner/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch banner\")\n      }\n\n      return await response.json()\n    } catch (error) {\n      console.error(`Error fetching banner ${id}:`, error)\n      throw error\n    }\n  },\n\n  getActiveBanner: async () => {\n    try {\n      const response = await fetch(`${API_URL}/api/banner/active`)\n\n      if (!response.ok) {\n        if (response.status === 404) {\n          return null // No active banner\n        }\n        throw new Error(\"Failed to fetch active banner\")\n      }\n\n      return await response.json()\n    } catch (error) {\n      console.error(\"Error fetching active banner:\", error)\n      throw error\n    }\n  },\n\n  createBanner: async (bannerData) => {\n    try {\n      const token = localStorage.getItem(\"token\")\n\n      // Ensure dates are in ISO format\n      const formattedData = {\n        ...bannerData,\n        startDate: new Date(bannerData.startDate).toISOString(),\n        endDate: new Date(bannerData.endDate).toISOString(),\n      }\n\n      console.log(\"Creating banner with data:\", formattedData)\n\n      const response = await fetch(`${API_URL}/api/banner`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(formattedData),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}))\n        const errorMessage = errorData.message || `Failed to create banner: ${response.status} ${response.statusText}`\n        console.error(\"Banner creation error:\", errorMessage)\n        throw new Error(errorMessage)\n      }\n\n      return await response.json()\n    } catch (error) {\n      console.error(\"Error creating banner:\", error)\n      throw error\n    }\n  },\n\n  updateBanner: async (id, bannerData) => {\n    try {\n      const token = localStorage.getItem(\"token\")\n\n      // Ensure dates are in ISO format\n      const formattedData = {\n        ...bannerData,\n        startDate: new Date(bannerData.startDate).toISOString(),\n        endDate: new Date(bannerData.endDate).toISOString(),\n      }\n\n      const response = await fetch(`${API_URL}/api/banner/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(formattedData),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}))\n        const errorMessage = errorData.message || \"Failed to update banner\"\n        throw new Error(errorMessage)\n      }\n\n      return await response.json()\n    } catch (error) {\n      console.error(`Error updating banner ${id}:`, error)\n      throw error\n    }\n  },\n\n  deleteBanner: async (id) => {\n    try {\n      const token = localStorage.getItem(\"token\")\n      const response = await fetch(`${API_URL}/api/banner/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (!response.ok) {\n        throw new Error(\"Failed to delete banner\")\n      }\n\n      return true\n    } catch (error) {\n      console.error(`Error deleting banner ${id}:`, error)\n      throw error\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}