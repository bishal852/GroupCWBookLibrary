{"ast":null,"code":"import { API_URL } from \"../config\";\nconst getOrders = async () => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) {\n    throw new Error(\"Authentication required\");\n  }\n  const response = await fetch(`${API_URL}/api/orders`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || \"Failed to fetch orders\");\n  }\n  return await response.json();\n};\n\n// Add this function to match what's being called in OrdersList\nconst getUserOrders = async () => {\n  return getOrders(); // This simply calls the existing getOrders function\n};\nconst getOrderById = async orderId => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) {\n    throw new Error(\"Authentication required\");\n  }\n  const response = await fetch(`${API_URL}/api/orders/${orderId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || \"Failed to fetch order details\");\n  }\n  return await response.json();\n};\nconst createOrder = async orderData => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) {\n    throw new Error(\"Authentication required\");\n  }\n  const response = await fetch(`${API_URL}/api/orders`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(orderData)\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || \"Failed to create order\");\n  }\n  return await response.json();\n};\nconst cancelOrder = async orderId => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) {\n    throw new Error(\"Authentication required\");\n  }\n  const response = await fetch(`${API_URL}/api/orders/${orderId}`, {\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || \"Failed to cancel order\");\n  }\n  return await response.json();\n};\nexport const orderService = {\n  getOrders,\n  getUserOrders,\n  // Add this to the exported object\n  getOrderById,\n  createOrder,\n  cancelOrder\n};","map":{"version":3,"names":["API_URL","getOrders","token","localStorage","getItem","Error","response","fetch","headers","Authorization","ok","error","json","message","getUserOrders","getOrderById","orderId","createOrder","orderData","method","body","JSON","stringify","cancelOrder","orderService"],"sources":["C:/Users/nikku/Desktop/GROUP_COURSEWORK/frontend/src/services/orderService.js"],"sourcesContent":["import { API_URL } from \"../config\"\n\nconst getOrders = async () => {\n  const token = localStorage.getItem(\"token\")\n  if (!token) {\n    throw new Error(\"Authentication required\")\n  }\n\n  const response = await fetch(`${API_URL}/api/orders`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.message || \"Failed to fetch orders\")\n  }\n\n  return await response.json()\n}\n\n// Add this function to match what's being called in OrdersList\nconst getUserOrders = async () => {\n  return getOrders() // This simply calls the existing getOrders function\n}\n\nconst getOrderById = async (orderId) => {\n  const token = localStorage.getItem(\"token\")\n  if (!token) {\n    throw new Error(\"Authentication required\")\n  }\n\n  const response = await fetch(`${API_URL}/api/orders/${orderId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.message || \"Failed to fetch order details\")\n  }\n\n  return await response.json()\n}\n\nconst createOrder = async (orderData) => {\n  const token = localStorage.getItem(\"token\")\n  if (!token) {\n    throw new Error(\"Authentication required\")\n  }\n\n  const response = await fetch(`${API_URL}/api/orders`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(orderData),\n  })\n\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.message || \"Failed to create order\")\n  }\n\n  return await response.json()\n}\n\nconst cancelOrder = async (orderId) => {\n  const token = localStorage.getItem(\"token\")\n  if (!token) {\n    throw new Error(\"Authentication required\")\n  }\n\n  const response = await fetch(`${API_URL}/api/orders/${orderId}`, {\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.message || \"Failed to cancel order\")\n  }\n\n  return await response.json()\n}\n\nexport const orderService = {\n  getOrders,\n  getUserOrders, // Add this to the exported object\n  getOrderById,\n  createOrder,\n  cancelOrder,\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}