{"ast":null,"code":"import { API_URL } from \"../config\";\nconst getWishlist = async () => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) {\n    throw new Error(\"Authentication required\");\n  }\n  const response = await fetch(`${API_URL}/api/wishlist`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || \"Failed to fetch wishlist\");\n  }\n  return await response.json();\n};\nconst addToWishlist = async bookId => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) {\n    throw new Error(\"Authentication required\");\n  }\n  const response = await fetch(`${API_URL}/api/wishlist`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      bookId\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || \"Failed to add book to wishlist\");\n  }\n  return await response.json();\n};\nconst removeFromWishlist = async bookId => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) {\n    throw new Error(\"Authentication required\");\n  }\n  const response = await fetch(`${API_URL}/api/wishlist/${bookId}`, {\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || \"Failed to remove book from wishlist\");\n  }\n  return await response.json();\n};\nconst isBookInWishlist = async bookId => {\n  try {\n    const wishlist = await getWishlist();\n    return wishlist.some(item => item.bookId === bookId);\n  } catch (error) {\n    console.error(\"Error checking if book is in wishlist:\", error);\n    return false;\n  }\n};\nexport const wishlistService = {\n  getWishlist,\n  addToWishlist,\n  removeFromWishlist,\n  isBookInWishlist\n};","map":{"version":3,"names":["API_URL","getWishlist","token","localStorage","getItem","Error","response","fetch","headers","Authorization","ok","error","json","message","addToWishlist","bookId","method","body","JSON","stringify","removeFromWishlist","isBookInWishlist","wishlist","some","item","console","wishlistService"],"sources":["C:/Users/nikku/Desktop/GROUP_COURSEWORK/frontend/src/services/wishlistService.js"],"sourcesContent":["import { API_URL } from \"../config\"\n\nconst getWishlist = async () => {\n  const token = localStorage.getItem(\"token\")\n  if (!token) {\n    throw new Error(\"Authentication required\")\n  }\n\n  const response = await fetch(`${API_URL}/api/wishlist`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.message || \"Failed to fetch wishlist\")\n  }\n\n  return await response.json()\n}\n\nconst addToWishlist = async (bookId) => {\n  const token = localStorage.getItem(\"token\")\n  if (!token) {\n    throw new Error(\"Authentication required\")\n  }\n\n  const response = await fetch(`${API_URL}/api/wishlist`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ bookId }),\n  })\n\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.message || \"Failed to add book to wishlist\")\n  }\n\n  return await response.json()\n}\n\nconst removeFromWishlist = async (bookId) => {\n  const token = localStorage.getItem(\"token\")\n  if (!token) {\n    throw new Error(\"Authentication required\")\n  }\n\n  const response = await fetch(`${API_URL}/api/wishlist/${bookId}`, {\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.message || \"Failed to remove book from wishlist\")\n  }\n\n  return await response.json()\n}\n\nconst isBookInWishlist = async (bookId) => {\n  try {\n    const wishlist = await getWishlist()\n    return wishlist.some((item) => item.bookId === bookId)\n  } catch (error) {\n    console.error(\"Error checking if book is in wishlist:\", error)\n    return false\n  }\n}\n\nexport const wishlistService = {\n  getWishlist,\n  addToWishlist,\n  removeFromWishlist,\n  isBookInWishlist,\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}